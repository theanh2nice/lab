<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta name="theme-color" content="#000000">

   <link rel="shortcut icon" href="../assets/imgs/favicon.ico" type="image/x-icon">
   <link rel="stylesheet" href="../css/main.css">

   <title>Theanh Lab</title>
</head>

<body>
   <header>   
      <h1>AMPD Scripts</h1>
   </header>

   <main>
      <section id="intro">
         <h2>AMPD v1</h2>
         <p>A simple script to download a music playlist with preset configuration</p>
      </section>

      <section id="features">
         <h3>Features</h3>
         <ul>
            <li>Auto-installs all dependencies</li>
            <li>Clean uninstall, no leftovers</li>
            <li>Optimized pre-set configurations</li>
         </ul>
      </section>

      <section id="usage">
         <h3>Usage</h3>
         <p>Copy and run the script in termux and follow the on-screen prompts</p>
      </section>

      <section class="script">
         <h3>Script</h3>
         <pre><code id="code-1">
#!/data/data/com.termux/files/usr/bin/bash
clear

echo "ğŸ“¦ Äang kiá»ƒm tra cÃ¡c cÃ´ng cá»¥ cáº§n thiáº¿t..."
sleep 3

tools_ok=1
missing=()

# ===== Kiá»ƒm tra tá»«ng cÃ´ng cá»¥ =====
for tool in python ffmpeg yt-dlp iconv; do
Â Â if ! command -v "$tool" >/dev/null 2>&1; then
Â Â Â Â tools_ok=0
Â Â Â Â missing+=("$tool")
Â Â fi
done

# ===== Náº¿u thiáº¿u, tiáº¿n hÃ nh setup =====
if [ "$tools_ok" -eq 0 ]; then
Â Â echo "âš ï¸ Thiáº¿u cÃ¡c cÃ´ng cá»¥ sau: ${missing[*]}"
Â Â echo "ğŸ”§ Báº¯t Ä‘áº§u cÃ i Ä‘áº·t..."
Â Â sleep 2

Â Â pkg update -y && pkg upgrade -y
Â Â pkg install -y python ffmpeg libiconv
Â Â pip install -U yt-dlp
Â Â termux-setup-storage

Â Â echo "âœ… CÃ i Ä‘áº·t hoÃ n táº¥t!"
Â Â sleep 2
else
Â Â echo "âœ… ÄÃ£ Ä‘á»§ cÃ´ng cá»¥, bá» qua setup."
Â Â sleep 1
fi

sleep 5

# ===== Chá»n thÆ° má»¥c lÆ°u =====
cd /storage/emulated/0/

while true; do
Â Â clear
Â Â echo "Báº¡n Ä‘ang á»Ÿ: $(pwd)"
Â Â echo "-----------------------------------------------"
Â Â ls -1 | sed 's/^/ğŸ“„ /'
Â Â echo "-----------------------------------------------"
Â Â echo ""

Â Â read -p "ğŸ“ Nháº­p tÃªn thÆ° má»¥c muá»‘n lÆ°u (thÆ° má»¥c pháº£i tá»“n táº¡i): " folder

Â Â if [ -z "$folder" ]; then
Â Â Â Â echo "ğŸ“‚ DÃ¹ng thÆ° má»¥c hiá»‡n táº¡i: $(pwd)"
Â Â Â Â break
Â Â elif [ -d "$folder" ]; then
Â Â Â Â cd "$folder"
Â Â Â Â echo ""
Â Â Â Â echo "âœ… ÄÃ£ vÃ o thÆ° má»¥c: $(pwd)"
Â Â Â Â break
Â Â else
Â Â Â Â echo "âŒ ThÆ° má»¥c '$folder' khÃ´ng tá»“n táº¡i. Thá»­ láº¡i..."
Â Â Â Â sleep 2
Â Â fi
done

# ===== Nháº­p URL =====
Â Â read -p "ğŸ”— Nháº­p URL YouTube cáº§n táº£i (playlist hoáº·c video): " url
Â Â Â Â sleep 2

# ===== Táº£i xuá»‘ng =====
echo ""
echo "ğŸ¬ Báº¯t Ä‘áº§u táº£i xuá»‘ng..."
sleep 2

yt-dlp -f bestaudio --audio-format m4a -x --embed-thumbnail --add-metadata "$url"

# ===== Hiá»ƒn thá»‹ káº¿t quáº£ =====
echo ""
echo "âœ… Script hoÃ n táº¥t chu trÃ¬nh"
echo ""

file_count=$(find . -maxdepth 1 -type f | wc -l)
echo "ğŸ“¦ Tá»•ng sá»‘ file: $file_count"
echo ""

read -p "ğŸ‘‰ Nháº¥n Enter Ä‘á»ƒ thoÃ¡t..."
clear
echo "chÃºc má»™t ngÃ y tá»‘t lÃ nh!"
sleep 2
exit 0
         </code></pre>
      </section>

      <section id="intro-2">
         <h2>AMPD v2</h2>
         <p>a simple script to download a music playlist with custom configuration</p>
      </section>

      <section id="features-2">
         <h3>Features</h3>
         <ul>
            <li>Auto-installs all dependencies</li>
            <li>Clean uninstall, no leftovers</li>
            <li>Optimized pre-set configurations</li>
         </ul>
      </section>

      <section id="usage-2">
         <h3>Usage</h3>
         <p>Copy and run the script in termux and follow the on-screen prompts</p>
      </section>

      <section class="script">
         <h3>Script</h3>
         <pre><code id="code-2">
         </code></pre>
   </main>

   <script src="../js/copy-code.js"></script>
</body>
</html>